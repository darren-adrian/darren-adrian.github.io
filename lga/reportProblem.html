
<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Web Messaging</title>
    <!--Genesys Cloud CSS Formatting Start-->
    <link href="https://dhqbrvplips7x.cloudfront.net/common-ui-docs/genesys-webcomponents/3.8.0-172/genesys-webcomponents/genesys-webcomponents.css" rel="stylesheet" />
    <script type="module" src="https://dhqbrvplips7x.cloudfront.net/common-ui-docs/genesys-webcomponents/3.8.0-172/genesys-webcomponents/genesys-webcomponents.esm.js"></script>
    <!--Genesys Cloud CSS Formatting End-->
    <script>
      const deploymentID = '0b606c55-7c61-40ac-9512-4144b27fb18a'
    </script>
    <script>
      ;(function (g, e, n, es, ys) {
        g['_genesysJs'] = e
        g[e] =
          g[e] ||
          function () {
            ;(g[e].q = g[e].q || []).push(arguments)
          }
        g[e].t = 1 * new Date()
        g[e].c = es
        ys = document.createElement('script')
        ys.async = 1
        ys.src = n
        ys.charset = 'utf-8'
        document.head.appendChild(ys)
      })(window, 'Genesys', 'https://apps.mypurecloud.com.au/genesys-bootstrap/genesys.min.js', { environment: 'apse2', deploymentId: deploymentID, debug: true })
    </script>

  </head>

  <body>
    <script>
      function pageView() {
        var date = new Date()
        var clock = date.getTime()
        clock.toString()
        console.log(clock)
        Genesys('command', 'Journey.pageview', { pageTitle: "'" + clock + "'", pageLocation: "'" + clock + "'" })
      }

      function home() {
        document.location.href = 'https://darren-adrian.github.io/lga/reportProblem.html'
      }

      function openChat() {
        Genesys('command', 'Messenger.open')
      }

      function closeChat() {
        Genesys('command', 'Messenger.close')
      }

      function addProduct() {
        Genesys('command', 'Journey.record', { eventName: 'product_added', customAttributes: { price: 15.99, code: 'CDE-123', name: 'Product', hasBatteries: false } })
      }

      function removeProduct() {
        Genesys('command', 'Journey.record', { eventName: 'product_removed', customAttributes: { price: 15.99, code: 'CDE-123', name: 'Product', hasBatteries: false } })
      }

      function triggerTest() {
        Genesys('command', 'Journey.record', { eventName: 'MattTest', customAttributes: { MattTest: 'test' } })
      }

      function clearSession() {
        localStorage.removeItem(`_${deploymentID}:gcmcopn`)
        localStorage.removeItem(`_${deploymentID}:gcmcsessionActive`)
        Genesys('command', 'Identifiers.purgeAll', {})
        home()
      }
    </script>
    
      setTimeout(5000, openChat())
    <h1>Genesys Web Messaging Testing</h1>
  </body>
</html>
